<div class="payment-widget-selector">
  <!-- ko if: paymentMethods().length > 0 -->
  <h4 data-bind="widgetLocaleText: 'paymentSelectorHeader'">Choose Payment Method</h4>

  <div id="payment-selector__wrapper">
    <div
      class="panel-group"
      id="payment-selector__accordion"
      aria-multiselectable="true"
    >
      <!-- ko foreach: paymentMethods -->
      <div class="panel panel-default"
        data-bind="css: {'panel-payment__selected': $data.selected}">
        <div class="panel-heading" role="tab" id="headingOne">
          <h4 class="panel-title">
            <a
              href="#"
              aria-expanded="true"
              aria-controls="collapseOne"
              data-bind="click: $parent.selectMethod.bind($parent, $data)"
            >
              <span data-bind="widgetLocaleText: 'paymentMethod_' + $data.paymentMethod.type"></span>
            </a>
          </h4>
        </div>
        <div class="panel-collapse collapse"
          aria-labelledby="headingOne"
          data-bind="css: {'in': $data.selected}"
        >
          <div class="panel-body">
            <!-- Display payment type specific component -->
            <div
              data-bind='component: {
              name: "payment-method-" + $data.paymentMethod.type,
              params: { config: $data.paymentMethod.config }
            }'
            ></div>
          </div>
        </div>
      </div>
      <!-- /ko -->
    </div>
  </div>
  <!-- /ko -->
</div>
